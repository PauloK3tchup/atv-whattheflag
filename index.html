<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WHAT THE FLAG??</title>
    <script
      src="https://kit.fontawesome.com/939df3a7fe.js"
      crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <main>
      <div class="container">
        <section id="fixos">
          <h2 id="pontos"></h2>
          <p class="tempo" id="tempo">00:30</p>
          <p class="dica" id="dica">TENTE ADIVINHAR</p>
          <p class="tents" id="tents">FALTAM 3 TENTATIVAS</p>
        </section>
        <section id="telaInicial" class="jogar">
          <h1 class="title">BEM VINDO AO JOGO!!</h1>
          <button class="btnJogo" onclick="iniciarJogo()" id="jogarBtn">
            Jogar
          </button>
        </section>
        <section id="telaDerrota" class="derrota">
          <h1 class="title" id="title-fim">VOCÊ PERDEU!!</h1>
          <button
            class="btnJogo"
            onclick="window.location.reload()"
            id="jogarBtn">
            Jogar Novamente
          </button>
        </section>

        <section id="moedaSEC" class="moeda">
          <h1 class="pergunta" id="pergunta-moeda"></h1>
          <div class="botoes">
            <ul>
              <li>
                <button onclick="trocaNum(0)">
                  <img src="src/png/031-italy.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(1)">
                  <img src="src/png/025-argentina.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(2)">
                  <img src="src/png/027-united states of america.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(3)">
                  <img src="src/png/037-japan.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(4)">
                  <img src="src/png/033-china.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(5)">
                  <img src="src/png/038-south korea.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(6)">
                  <img src="src/png/026-india.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(7)">
                  <img src="src/png/018-philippines.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(8)">
                  <img src="src/png/028-thailand.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(9)">
                  <img src="src/png/012-egypt.png" alt="" />
                </button>
              </li>
            </ul>
          </div>
        </section>

        <section id="bandeiraSEC" class="bandeira">
          <h1 class="pergunta" id="pergunta-bandeira"></h1>
          <img
            src="src/png/001-chile.png"
            id="foto-bandeira"
            class="foto-bandeira"
            alt="" />
          <div class="botoes">
            <ul>
              <li>
                <button class="btnText" onclick="trocaNum(0)">Itália</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(1)">Argentina</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(2)">
                  Estados Unidos
                </button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(3)">Japão</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(4)">China</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(5)">
                  Coréia do Sul
                </button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(6)">Índia</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(7)">Filipinas</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(8)">Tailândia</button>
              </li>
              <li>
                <button class="btnText" onclick="trocaNum(9)">Egito</button>
              </li>
            </ul>
          </div>
        </section>

        <section id="idiomaSEC" class="idioma">
          <h1 class="pergunta" id="pergunta-idioma"></h1>
          <div class="botoes">
            <ul>
              <li>
                <button onclick="trocaNum(0)">
                  <img src="src/png/031-italy.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(1)">
                  <img src="src/png/025-argentina.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(2)">
                  <img src="src/png/027-united states of america.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(3)">
                  <img src="src/png/037-japan.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(4)">
                  <img src="src/png/033-china.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(5)">
                  <img src="src/png/038-south korea.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(6)">
                  <img src="src/png/026-india.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(7)">
                  <img src="src/png/018-philippines.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(8)">
                  <img src="src/png/028-thailand.png" alt="" />
                </button>
              </li>
              <li>
                <button onclick="trocaNum(9)">
                  <img src="src/png/012-egypt.png" alt="" />
                </button>
              </li>
            </ul>
          </div>
        </section>
        <button onclick="mutaSom()" id="btn-vol" class="vol">
          <span class="fa-solid fa-volume-high"></span>
        </button>
      </div>
      <script>
        let sec = Math.floor(Math.random() * 3) + 1;
        let numero = Math.floor(Math.random() * 10);
        let acertos = 0;
        let t = 1000;
        let segundos = 30;
        let acabou = false;
        let contagem;
        let pontos = 0;
        let som = true;

        let som_v = new Audio();
        som_v.src = "src/snd/victory.mp3";
        let errado = new Audio();
        errado.src = "src/snd/wrong-answer-buzzer.mp3";
        let certo = new Audio();
        certo.src = "src/snd/correct-answer-ff.mp3";
        let boom = new Audio();
        boom.src = "src/snd/deltarune-explosion.mp3";
        let fundo = new Audio();
        fundo.src = "src/snd/fundo.mp3";

        function mutaSom() {
          if (som) {
            document.getElementById("btn-vol").innerHTML =
              '<span class="fa-solid fa-volume-xmark"></span>';
            som = false;
            som_v.volume = 0;
            errado.volume = 0;
            certo.volume = 0;
            boom.volume = 0;
            fundo.volume = 0;
          } else {
            document.getElementById("btn-vol").innerHTML =
              '<span class="fa-solid fa-volume-high"></span>';
            som = true;
            som_v.volume = 1;
            errado.volume = 1;
            certo.volume = 1;
            boom.volume = 1;
            fundo.volume = 1;
          }
        }
        const m = [
          {
            pais: "Itália",
            moeda: "Euro",
            idioma: "Italiano",
            img: "src/png/031-italy.png",
          },
          {
            pais: "Argentina",
            moeda: "Peso",
            idioma: "Espanhol",
            img: "src/png/025-argentina.png",
          },
          {
            pais: "Estados Unidos",
            moeda: "Dólar",
            idioma: "Inglês",
            img: "src/png/027-united states of america.png",
          },
          {
            pais: "Japão",
            moeda: "Iene",
            idioma: "Japonês",
            img: "src/png/037-japan.png",
          },
          {
            pais: "China",
            moeda: "Yuan",
            idioma: "Mandarin",
            img: "src/png/033-china.png",
          },
          {
            pais: "Coréia do Sul",
            moeda: "Won",
            idioma: "Coreano",
            img: "src/png/038-south korea.png",
          },
          {
            pais: "Índia",
            moeda: "Rupia",
            idioma: "Hindi",
            img: "src/png/026-india.png",
          },
          {
            pais: "Filipinas",
            moeda: "Peso Filipino",
            idioma: "Filipino",
            img: "src/png/018-philippines.png",
          },
          {
            pais: "Tailândia",
            moeda: "Baht",
            idioma: "Tailandês",
            img: "src/png/028-thailand.png",
          },
          {
            pais: "Egito",
            moeda: "Libra",
            idioma: "Árabe",
            img: "src/png/012-egypt.png",
          },
        ];

        const s = document.getElementById("telaInicial");
        const s2 = document.getElementById("moedaSEC");
        const s3 = document.getElementById("bandeiraSEC");
        const s4 = document.getElementById("idiomaSEC");
        const s5 = document.getElementById("telaDerrota");

        function iniciarJogo() {
          document.getElementById("tenna").src = "src/tenna/tenna_pergunta.png";
          fundo.play();
          document.getElementById("fixos").style.display = "block";
          sec = Math.floor(Math.random() * 3) + 1;
          numero = Math.floor(Math.random() * 10);
          s.style.display = "none";
          s2.style.display = "none";
          s3.style.display = "none";
          s4.style.display = "none";
          s5.style.display = "none";

          let tempo, dica, pergunta, tents;

          if (sec === 1) {
            s2.style.display = "block";
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica-moeda");
            pergunta = document.getElementById("pergunta-moeda");
            tents = document.getElementById("tents");
            pergunta.innerText = "DE QUE PAÍS É A MOEDA: " + m[numero].moeda;
            document.getElementById("pontos").innerText = "PONTOS: " + pontos;
          } else if (sec === 2) {
            s3.style.display = "block";
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica-bandeira");
            pergunta = document.getElementById("pergunta-bandeira");
            tents = document.getElementById("tents");
            pergunta.innerText = "DE QUE PAÍS É A BANDEIRA: ";
            document.getElementById("foto-bandeira").src = m[numero].img;
            document.getElementById("pontos").innerText = "PONTOS: " + pontos;
          } else {
            s4.style.display = "block";
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica-idioma");
            pergunta = document.getElementById("pergunta-idioma");
            tents = document.getElementById("tents");
            pergunta.innerText =
              "QUE PAÍS SE FALA O IDIOMA: " + m[numero].idioma;
            document.getElementById("pontos").innerText = "PONTOS: " + pontos;
          }

          tempo.innerText = "00:" + segundos;
          contagem = setTimeout(() => menosUm(tempo, dica), t);
        }

        function trocaNum(a) {
          let tempo, dica, pergunta, tents;

          if (sec === 1) {
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica");
            pergunta = document.getElementById("pergunta-moeda");
            tents = document.getElementById("tents");
          } else if (sec === 2) {
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica");
            pergunta = document.getElementById("pergunta-bandeira");
            tents = document.getElementById("tents");
          } else {
            tempo = document.getElementById("tempo");
            dica = document.getElementById("dica");
            pergunta = document.getElementById("pergunta-idioma");
            tents = document.getElementById("tents");
          }

          if (!acabou) {
            if (a !== numero) {
              errado.currentTime = 0;
              errado.play();
              dica.innerText = "ERRADO!";
              document.getElementById("pontos").innerText = "PONTOS: " + pontos;
              t -= 200;
            } else {
              certo.currentTime = 0;
              certo.play();
              document.getElementById("pontos").innerText = "PONTOS: " + pontos;
              dica.innerText = "CORRETO!!";
              numero = Math.floor(Math.random() * 10);
              acertos++;
              tents.innerText = "FALTAM " + (3 - acertos) + " ACERTOS!!!";
              pontos += (100 * segundos) / 10;
              if (acertos >= 3) {
                pontos += (100 * segundos) / 10;
                document.getElementById("pontos").innerText =
                  "PONTOS: " + pontos;
                acabou = true;
                segundos = 0;
                s.style.display = "none";
                s2.style.display = "none";
                s3.style.display = "none";
                s4.style.display = "none";
                s5.style.display = "block";
                document.getElementById("title-fim").innerText =
                  "PARABÉNS! VOCÊ VENCEU!!";
                certo.currentTime = 0;
                certo.pause();
                fundo.pause();
                fundo.currentTime = 0;
                som_v.currentTime = 0;
                som_v.play();
                document.getElementById("tenna").src =
                  "src/tenna/spr_tenna_dance_cane_big.gif";
                return;
              }
              iniciarJogo();
            }
          }
        }

        function menosUm(tempo, dica) {
          if (!acabou) {
            if (segundos > 0) {
              segundos--;
              tempo.innerText =
                "00:" + (segundos > 9 ? segundos : "0" + segundos);
              contagem = setTimeout(() => menosUm(tempo, dica), t);
            } else {
              acabou = true;
              s.style.display = "none";
              s2.style.display = "none";
              s3.style.display = "none";
              s4.style.display = "none";
              s5.style.display = "block";
              document.getElementById("title-fim").innerText = "VOCÊ PERDEU!!";
              document.getElementById("pontos").innerText = "PONTOS: " + pontos;
              fundo.pause();
              fundo.currentTime = 0;
              boom.currentTime = 0;
              boom.play();
              document.getElementById("tenna").src =
                "src/tenna/spr_tenna_grasp_anim_big.gif";
            }
          }
        }
      </script>
    </main>
    <div class="tenna">
      <img id="tenna" src="src/tenna/spr_tenna_dance_cabbage_big.gif" alt="" />
    </div>
  </body>
</html>
